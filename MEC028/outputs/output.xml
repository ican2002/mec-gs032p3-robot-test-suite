<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 4.0.1 (Python 3.9.5 on win32)" generated="20210506 14:55:52.889" rpa="false" schemaversion="2">
<suite id="s1" name="WaiSubscription" source="C:\Users\pietr\Desktop\gs032p3-robot-test-suite\MEC028\WAI\SUB\WaiSubscription.robot">
<test id="s1-t1" name="TP_MEC_MEC028_SRV_WAI_007_OK">
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.280" endtime="20210506 14:55:53.281"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.281" endtime="20210506 14:55:53.281"/>
</kw>
<kw name="Send a request for creating a subscription">
<arg>AssocStaSubscription.json</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating a new subscription</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.282" level="INFO">Creating a new subscription</msg>
<status status="PASS" starttime="20210506 14:55:53.281" endtime="20210506 14:55:53.282"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Content-Type":"application/json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.282" endtime="20210506 14:55:53.283"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Authorization":"${TOKEN}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.283" endtime="20210506 14:55:53.283"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${path}</var>
<arg>SEPARATOR=</arg>
<arg>jsons/</arg>
<arg>${content}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20210506 14:55:53.283" level="INFO">${path} = jsons/AssocStaSubscription.json</msg>
<status status="PASS" starttime="20210506 14:55:53.283" endtime="20210506 14:55:53.283"/>
</kw>
<kw name="Get File" library="OperatingSystem">
<var>${body}</var>
<arg>${path}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20210506 14:55:53.284" level="INFO" html="true">Getting file '&lt;a href="file://C:\Users\pietr\Desktop\gs032p3-robot-test-suite\MEC028\WAI\SUB\jsons\AssocStaSubscription.json"&gt;C:\Users\pietr\Desktop\gs032p3-robot-test-suite\MEC028\WAI\SUB\jsons\AssocStaSubscription.json&lt;/a&gt;'.</msg>
<msg timestamp="20210506 14:55:53.284" level="INFO">${body} = {
	"apId": {
		"macId": "macId01"
	},
	"callbackReference": "http://callback.uri/1",
	"subscriptionType": "AssocStaSubscription"
}</msg>
<status status="PASS" starttime="20210506 14:55:53.283" endtime="20210506 14:55:53.284"/>
</kw>
<kw name="POST" library="REST">
<arg>${apiRoot}/${apiName}/${apiVersion}/subscriptions</arg>
<arg>${body}</arg>
<tag>http</tag>
<doc>*Sends a POST request to the endpoint.*</doc>
<status status="PASS" starttime="20210506 14:55:53.284" endtime="20210506 14:55:53.362"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.362" level="INFO">{
	"apId": {
		"macId": "macId01"
	},
	"callbackReference": "http://callback.uri/1",
	"subscriptionType": "AssocStaSubscription"
}</msg>
<status status="PASS" starttime="20210506 14:55:53.362" endtime="20210506 14:55:53.363"/>
</kw>
<kw name="Output" library="REST">
<var>${output}</var>
<arg>response</arg>
<tag>I/O</tag>
<doc>*Outputs JSON to terminal or a file.*</doc>
<msg timestamp="20210506 14:55:53.363" level="INFO">
{
    "seconds": 0.016300000000000002,
    "status": 201,
    "body": {
        "_links": {
            "self": {
                "href": "/wai/v1/subscriptions/1"
            }
        },
        "apId": {
            "macId": "macId01"
        },
        "callbackReference": "http://callback.uri/1",
        "subscriptionType": "AssocStaSubscription"
    },
    "headers": {
        "Content-Type": "application/json; charset=utf-8",
        "Location": "/wai/v1/subscriptions/1",
        "Content-Length": "222",
        "Date": "Thu, 06 May 2021 12:55:53 GMT",
        "Connection": "keep-alive",
        "Keep-Alive": "timeout=5"
    }
}</msg>
<msg timestamp="20210506 14:55:53.372" level="INFO">${output} = {'seconds': 0.016300000000000002, 'status': 201, 'body': {'_links': {'self': {'href': '/wai/v1/subscriptions/1'}}, 'apId': {'macId': 'macId01'}, 'callbackReference': 'http://callback.uri/1', 'subscrip...</msg>
<status status="PASS" starttime="20210506 14:55:53.363" endtime="20210506 14:55:53.372"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${response}</arg>
<arg>${output}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20210506 14:55:53.373" level="INFO">${response} = {'seconds': 0.016300000000000002, 'status': 201, 'body': {'_links': {'self': {'href': '/wai/v1/subscriptions/1'}}, 'apId': {'macId': 'macId01'}, 'callbackReference': 'http://callback.uri/1', 'subscrip...</msg>
<status status="PASS" starttime="20210506 14:55:53.372" endtime="20210506 14:55:53.373"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.281" endtime="20210506 14:55:53.373"/>
</kw>
<kw name="Check HTTP Response Status Code Is" library="GenericKeywords">
<arg>201</arg>
<kw name="Convert To Integer" library="BuiltIn">
<var>${status}</var>
<arg>${expected_status}</arg>
<doc>Converts the given item to an integer number.</doc>
<msg timestamp="20210506 14:55:53.374" level="INFO">${status} = 201</msg>
<status status="PASS" starttime="20210506 14:55:53.373" endtime="20210506 14:55:53.374"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${response['status']}</arg>
<arg>${status}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20210506 14:55:53.374" endtime="20210506 14:55:53.374"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Status code validated</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.375" level="INFO">Status code validated</msg>
<status status="PASS" starttime="20210506 14:55:53.374" endtime="20210506 14:55:53.375"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.373" endtime="20210506 14:55:53.375"/>
</kw>
<kw name="Check HTTP Response Body Json Schema Is" library="GenericKeywords">
<arg>AssocStaSubscription</arg>
<kw name="Should Contain" library="BuiltIn">
<arg>${response['headers']['Content-Type']}</arg>
<arg>application/json</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210506 14:55:53.375" endtime="20210506 14:55:53.376"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${schema}</var>
<arg>SEPARATOR=</arg>
<arg>${input}</arg>
<arg>.schema.json</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20210506 14:55:53.376" level="INFO">${schema} = AssocStaSubscription.schema.json</msg>
<status status="PASS" starttime="20210506 14:55:53.376" endtime="20210506 14:55:53.376"/>
</kw>
<kw name="Validate Json" library="JSONSchemaLibrary">
<arg>${schema}</arg>
<arg>${response['body']}</arg>
<doc>Validates the sample JSON against the given schema.</doc>
<status status="PASS" starttime="20210506 14:55:53.376" endtime="20210506 14:55:53.378"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Json Schema Validation OK</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.378" level="INFO">Json Schema Validation OK</msg>
<status status="PASS" starttime="20210506 14:55:53.378" endtime="20210506 14:55:53.379"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.375" endtime="20210506 14:55:53.379"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${response['body']['subscriptionType']}</arg>
<arg>${SUB_TYPE}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20210506 14:55:53.379" endtime="20210506 14:55:53.379"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${response['body']['_links']['self']['href']}</arg>
<arg>${HREF}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20210506 14:55:53.379" endtime="20210506 14:55:53.379"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${response['headers']['Location']}</arg>
<arg>${HREF}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20210506 14:55:53.379" endtime="20210506 14:55:53.380"/>
</kw>
<doc>Check that the IUT responds with a Notification Subscription
Reference "ETSI GS MEC 028 2.1.1, clause 7.5.3.4
https://forge.etsi.org/rep/mec/gs028-wai-api/blob/v2.1.1/WlanInformationApi.yaml#/schemas/AssocStaSubscription</doc>
<status status="PASS" starttime="20210506 14:55:53.280" endtime="20210506 14:55:53.380"/>
</test>
<test id="s1-t2" name="TP_MEC_MEC028_SRV_WAI_007_BR">
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.381" endtime="20210506 14:55:53.381"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.381" endtime="20210506 14:55:53.381"/>
</kw>
<kw name="Send a request for creating a subscription">
<arg>AssocStaSubscription_BR.json</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating a new subscription</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.382" level="INFO">Creating a new subscription</msg>
<status status="PASS" starttime="20210506 14:55:53.382" endtime="20210506 14:55:53.382"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Content-Type":"application/json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.382" endtime="20210506 14:55:53.382"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Authorization":"${TOKEN}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.382" endtime="20210506 14:55:53.383"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${path}</var>
<arg>SEPARATOR=</arg>
<arg>jsons/</arg>
<arg>${content}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20210506 14:55:53.383" level="INFO">${path} = jsons/AssocStaSubscription_BR.json</msg>
<status status="PASS" starttime="20210506 14:55:53.383" endtime="20210506 14:55:53.383"/>
</kw>
<kw name="Get File" library="OperatingSystem">
<var>${body}</var>
<arg>${path}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20210506 14:55:53.383" level="INFO" html="true">Getting file '&lt;a href="file://C:\Users\pietr\Desktop\gs032p3-robot-test-suite\MEC028\WAI\SUB\jsons\AssocStaSubscription_BR.json"&gt;C:\Users\pietr\Desktop\gs032p3-robot-test-suite\MEC028\WAI\SUB\jsons\AssocStaSubscription_BR.json&lt;/a&gt;'.</msg>
<msg timestamp="20210506 14:55:53.384" level="INFO">${body} = {
  "_links":{
  	"href":""
  	},
      
	"apId": {
		"macId": "macId01"
	},
	"callbackReference": "http://callback.uri/1",
	"subscriptionType": "INVALID_VALUE"
}</msg>
<status status="PASS" starttime="20210506 14:55:53.383" endtime="20210506 14:55:53.384"/>
</kw>
<kw name="POST" library="REST">
<arg>${apiRoot}/${apiName}/${apiVersion}/subscriptions</arg>
<arg>${body}</arg>
<tag>http</tag>
<doc>*Sends a POST request to the endpoint.*</doc>
<status status="PASS" starttime="20210506 14:55:53.384" endtime="20210506 14:55:53.392"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.393" level="INFO">{
  "_links":{
  	"href":""
  	},
      
	"apId": {
		"macId": "macId01"
	},
	"callbackReference": "http://callback.uri/1",
	"subscriptionType": "INVALID_VALUE"
}</msg>
<status status="PASS" starttime="20210506 14:55:53.392" endtime="20210506 14:55:53.393"/>
</kw>
<kw name="Output" library="REST">
<var>${output}</var>
<arg>response</arg>
<tag>I/O</tag>
<doc>*Outputs JSON to terminal or a file.*</doc>
<msg timestamp="20210506 14:55:53.393" level="INFO">
{
    "seconds": 0.005856,
    "status": 400,
    "body": "",
    "headers": {
        "Content-Type": "application/problem+json; charset=utf-8",
        "Content-Length": "0",
        "Date": "Thu, 06 May 2021 12:55:53 GMT",
        "Connection": "keep-alive",
        "Keep-Alive": "timeout=5"
    }
}</msg>
<msg timestamp="20210506 14:55:53.393" level="INFO">${output} = {'seconds': 0.005856, 'status': 400, 'body': '', 'headers': {'Content-Type': 'application/problem+json; charset=utf-8', 'Content-Length': '0', 'Date': 'Thu, 06 May 2021 12:55:53 GMT', 'Connection': 'k...</msg>
<status status="PASS" starttime="20210506 14:55:53.393" endtime="20210506 14:55:53.393"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${response}</arg>
<arg>${output}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20210506 14:55:53.394" level="INFO">${response} = {'seconds': 0.005856, 'status': 400, 'body': '', 'headers': {'Content-Type': 'application/problem+json; charset=utf-8', 'Content-Length': '0', 'Date': 'Thu, 06 May 2021 12:55:53 GMT', 'Connection': 'k...</msg>
<status status="PASS" starttime="20210506 14:55:53.394" endtime="20210506 14:55:53.394"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.382" endtime="20210506 14:55:53.394"/>
</kw>
<kw name="Check HTTP Response Status Code Is" library="GenericKeywords">
<arg>400</arg>
<kw name="Convert To Integer" library="BuiltIn">
<var>${status}</var>
<arg>${expected_status}</arg>
<doc>Converts the given item to an integer number.</doc>
<msg timestamp="20210506 14:55:53.395" level="INFO">${status} = 400</msg>
<status status="PASS" starttime="20210506 14:55:53.394" endtime="20210506 14:55:53.395"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${response['status']}</arg>
<arg>${status}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20210506 14:55:53.395" endtime="20210506 14:55:53.395"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Status code validated</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.396" level="INFO">Status code validated</msg>
<status status="PASS" starttime="20210506 14:55:53.396" endtime="20210506 14:55:53.396"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.394" endtime="20210506 14:55:53.396"/>
</kw>
<doc>Check that the IUT responds with an error when an invalid Subscription request is sent
ETSI GS MEC 028 2.1.1, clause 7.5.3.4
https://forge.etsi.org/rep/mec/gs028-wai-api/blob/v2.1.1/WlanInformationApi.yaml#/schemas/AssocStaSubscription</doc>
<status status="PASS" starttime="20210506 14:55:53.380" endtime="20210506 14:55:53.396"/>
</test>
<test id="s1-t3" name="TP_MEC_MEC028_SRV_WAI_007_NF">
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.397" endtime="20210506 14:55:53.397"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.397" endtime="20210506 14:55:53.397"/>
</kw>
<kw name="Send a request for creating a subscription using wrong endpoint">
<arg>AssocStaSubscription.json</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating a new subscription</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.398" level="INFO">Creating a new subscription</msg>
<status status="PASS" starttime="20210506 14:55:53.398" endtime="20210506 14:55:53.398"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Content-Type":"application/json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.398" endtime="20210506 14:55:53.398"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Authorization":"${TOKEN}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.399" endtime="20210506 14:55:53.399"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${path}</var>
<arg>SEPARATOR=</arg>
<arg>jsons/</arg>
<arg>${content}</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20210506 14:55:53.399" level="INFO">${path} = jsons/AssocStaSubscription.json</msg>
<status status="PASS" starttime="20210506 14:55:53.399" endtime="20210506 14:55:53.399"/>
</kw>
<kw name="Get File" library="OperatingSystem">
<var>${body}</var>
<arg>${path}</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20210506 14:55:53.400" level="INFO" html="true">Getting file '&lt;a href="file://C:\Users\pietr\Desktop\gs032p3-robot-test-suite\MEC028\WAI\SUB\jsons\AssocStaSubscription.json"&gt;C:\Users\pietr\Desktop\gs032p3-robot-test-suite\MEC028\WAI\SUB\jsons\AssocStaSubscription.json&lt;/a&gt;'.</msg>
<msg timestamp="20210506 14:55:53.400" level="INFO">${body} = {
	"apId": {
		"macId": "macId01"
	},
	"callbackReference": "http://callback.uri/1",
	"subscriptionType": "AssocStaSubscription"
}</msg>
<status status="PASS" starttime="20210506 14:55:53.399" endtime="20210506 14:55:53.400"/>
</kw>
<kw name="POST" library="REST">
<arg>${apiRoot}/${apiName}/${apiVersion}/subscriptions_INVALID_URI</arg>
<arg>${body}</arg>
<tag>http</tag>
<doc>*Sends a POST request to the endpoint.*</doc>
<msg timestamp="20210506 14:55:53.405" level="WARN">Response body content is not JSON. Content-Type is: text/html; charset=utf-8</msg>
<status status="PASS" starttime="20210506 14:55:53.400" endtime="20210506 14:55:53.405"/>
</kw>
<kw name="Output" library="REST">
<var>${output}</var>
<arg>response</arg>
<tag>I/O</tag>
<doc>*Outputs JSON to terminal or a file.*</doc>
<msg timestamp="20210506 14:55:53.406" level="INFO">
{
    "seconds": 0.0030830000000000002,
    "status": 404,
    "body": "&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Cannot POST /wai/v1/subscriptions_INVALID_URI&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n",
    "headers": {
        "Content-Security-Policy": "default-src 'none'",
        "X-Content-Type-Options": "nosniff",
        "Content-Type": "text/html; charset=utf-8",
        "Content-Length": "172",
        "Date": "Thu, 06 May 2021 12:55:53 GMT",
        "Connection": "keep-alive",
        "Keep-Alive": "timeout=5"
    }
}</msg>
<msg timestamp="20210506 14:55:53.406" level="INFO">${output} = {'seconds': 0.0030830000000000002, 'status': 404, 'body': '&lt;!DOCTYPE html&gt;\n&lt;html lang="en"&gt;\n&lt;head&gt;\n&lt;meta charset="utf-8"&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Cannot POST /wai/v1/subscripti...</msg>
<status status="PASS" starttime="20210506 14:55:53.406" endtime="20210506 14:55:53.406"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${response}</arg>
<arg>${output}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20210506 14:55:53.407" level="INFO">${response} = {'seconds': 0.0030830000000000002, 'status': 404, 'body': '&lt;!DOCTYPE html&gt;\n&lt;html lang="en"&gt;\n&lt;head&gt;\n&lt;meta charset="utf-8"&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Cannot POST /wai/v1/subscripti...</msg>
<status status="PASS" starttime="20210506 14:55:53.406" endtime="20210506 14:55:53.407"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.398" endtime="20210506 14:55:53.407"/>
</kw>
<kw name="Check HTTP Response Status Code Is" library="GenericKeywords">
<arg>404</arg>
<kw name="Convert To Integer" library="BuiltIn">
<var>${status}</var>
<arg>${expected_status}</arg>
<doc>Converts the given item to an integer number.</doc>
<msg timestamp="20210506 14:55:53.407" level="INFO">${status} = 404</msg>
<status status="PASS" starttime="20210506 14:55:53.407" endtime="20210506 14:55:53.407"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${response['status']}</arg>
<arg>${status}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20210506 14:55:53.408" endtime="20210506 14:55:53.408"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Status code validated</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.408" level="INFO">Status code validated</msg>
<status status="PASS" starttime="20210506 14:55:53.408" endtime="20210506 14:55:53.408"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.407" endtime="20210506 14:55:53.409"/>
</kw>
<doc>Check that the IUT responds with an error when a request with not existing parameters is sent
Reference "ETSI GS MEC 028 2.1.1, clause 7.5.3.1</doc>
<status status="PASS" starttime="20210506 14:55:53.396" endtime="20210506 14:55:53.409"/>
</test>
<test id="s1-t4" name="TP_MEC_MEC028_SRV_WAI_005_OK">
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.409" endtime="20210506 14:55:53.410"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.410" endtime="20210506 14:55:53.410"/>
</kw>
<kw name="Retrieve the subscription information">
<arg>${SUB_FILTER}</arg>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.410" endtime="20210506 14:55:53.411"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.411" endtime="20210506 14:55:53.411"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Content-Type":"application/json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.411" endtime="20210506 14:55:53.412"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Authorization":"${TOKEN}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.412" endtime="20210506 14:55:53.412"/>
</kw>
<kw name="GET" library="REST">
<arg>${apiRoot}/${apiName}/${apiVersion}/subscriptions?subscription_type=${subscription_type}</arg>
<tag>http</tag>
<doc>*Sends a GET request to the endpoint.*</doc>
<status status="PASS" starttime="20210506 14:55:53.412" endtime="20210506 14:55:53.420"/>
</kw>
<kw name="Output" library="REST">
<var>${output}</var>
<arg>response</arg>
<tag>I/O</tag>
<doc>*Outputs JSON to terminal or a file.*</doc>
<msg timestamp="20210506 14:55:53.420" level="INFO">
{
    "seconds": 0.005093,
    "status": 200,
    "body": {
        "_links": {
            "self": {
                "href": "/wai/v1/subscriptions/1"
            }
        },
        "staDataRateSubscription": [],
        "assocStaSubscription": [
            {
                "subscriptionType": "AssocStaSubscription",
                "callbackReference": "http://callback/uri",
                "apId": {
                    "macId": "macId01"
                },
                "_links": {
                    "self": {
                        "href": "/wai/v1/subscriptions/1"
                    }
                }
            }
        ]
    },
    "headers": {
        "Content-Type": "application/json; charset=utf-8",
        "Content-Length": "361",
        "Date": "Thu, 06 May 2021 12:55:53 GMT",
        "Connection": "keep-alive",
        "Keep-Alive": "timeout=5"
    }
}</msg>
<msg timestamp="20210506 14:55:53.420" level="INFO">${output} = {'seconds': 0.005093, 'status': 200, 'body': {'_links': {'self': {'href': '/wai/v1/subscriptions/1'}}, 'staDataRateSubscription': [], 'assocStaSubscription': [{'subscriptionType': 'AssocStaSubscriptio...</msg>
<status status="PASS" starttime="20210506 14:55:53.420" endtime="20210506 14:55:53.420"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${response}</arg>
<arg>${output}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20210506 14:55:53.421" level="INFO">${response} = {'seconds': 0.005093, 'status': 200, 'body': {'_links': {'self': {'href': '/wai/v1/subscriptions/1'}}, 'staDataRateSubscription': [], 'assocStaSubscription': [{'subscriptionType': 'AssocStaSubscriptio...</msg>
<status status="PASS" starttime="20210506 14:55:53.420" endtime="20210506 14:55:53.421"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.410" endtime="20210506 14:55:53.421"/>
</kw>
<kw name="Check HTTP Response Status Code Is" library="GenericKeywords">
<arg>200</arg>
<kw name="Convert To Integer" library="BuiltIn">
<var>${status}</var>
<arg>${expected_status}</arg>
<doc>Converts the given item to an integer number.</doc>
<msg timestamp="20210506 14:55:53.422" level="INFO">${status} = 200</msg>
<status status="PASS" starttime="20210506 14:55:53.421" endtime="20210506 14:55:53.422"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${response['status']}</arg>
<arg>${status}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20210506 14:55:53.422" endtime="20210506 14:55:53.422"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Status code validated</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.423" level="INFO">Status code validated</msg>
<status status="PASS" starttime="20210506 14:55:53.423" endtime="20210506 14:55:53.423"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.421" endtime="20210506 14:55:53.423"/>
</kw>
<kw name="Check HTTP Response Body Json Schema Is" library="GenericKeywords">
<arg>SubscriptionLinkList</arg>
<kw name="Should Contain" library="BuiltIn">
<arg>${response['headers']['Content-Type']}</arg>
<arg>application/json</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210506 14:55:53.424" endtime="20210506 14:55:53.425"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${schema}</var>
<arg>SEPARATOR=</arg>
<arg>${input}</arg>
<arg>.schema.json</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20210506 14:55:53.426" level="INFO">${schema} = SubscriptionLinkList.schema.json</msg>
<status status="PASS" starttime="20210506 14:55:53.426" endtime="20210506 14:55:53.426"/>
</kw>
<kw name="Validate Json" library="JSONSchemaLibrary">
<arg>${schema}</arg>
<arg>${response['body']}</arg>
<doc>Validates the sample JSON against the given schema.</doc>
<status status="PASS" starttime="20210506 14:55:53.426" endtime="20210506 14:55:53.433"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Json Schema Validation OK</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.434" level="INFO">Json Schema Validation OK</msg>
<status status="PASS" starttime="20210506 14:55:53.433" endtime="20210506 14:55:53.434"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.423" endtime="20210506 14:55:53.434"/>
</kw>
<for flavor="IN">
<var>${assocStaSub}</var>
<value>@{response['body']['assocStaSubscription']}</value>
<iter>
<var name="${assocStaSub}">{'subscriptionType': 'AssocStaSubscription', 'callbackReference': 'http://callback/uri', 'apId': {'macId': 'macId01'}, '_links': {'self': {'href': '/wai/v1/subscriptions/1'}}}</var>
<kw name="Run Keyword And Return Status" library="BuiltIn">
<var>${passed}</var>
<arg>Should Be Equal As Strings</arg>
<arg>${assocStaSub['_links']['self']['href']}</arg>
<arg>${HREF}</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${assocStaSub['_links']['self']['href']}</arg>
<arg>${HREF}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20210506 14:55:53.436" endtime="20210506 14:55:53.437"/>
</kw>
<msg timestamp="20210506 14:55:53.437" level="INFO">${passed} = True</msg>
<status status="PASS" starttime="20210506 14:55:53.435" endtime="20210506 14:55:53.437"/>
</kw>
<kw name="Exit For Loop If" library="BuiltIn">
<arg>${passed}</arg>
<doc>Stops executing the enclosing for loop if the ``condition`` is true.</doc>
<msg timestamp="20210506 14:55:53.438" level="INFO">Exiting for loop altogether.</msg>
<status status="PASS" starttime="20210506 14:55:53.437" endtime="20210506 14:55:53.438"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.435" endtime="20210506 14:55:53.438"/>
</iter>
<status status="PASS" starttime="20210506 14:55:53.434" endtime="20210506 14:55:53.438"/>
</for>
<doc>Check that the IUT responds with the requested list of subscription
Reference "ETSI GS MEC 028 2.1.1, clause 7.5.3.1
https://forge.etsi.org/rep/mec/gs028-wai-api/blob/v2.1.1/WlanInformationApi.yaml#/schemas/AssocStaSubscription</doc>
<status status="PASS" starttime="20210506 14:55:53.409" endtime="20210506 14:55:53.438"/>
</test>
<test id="s1-t5" name="TP_MEC_MEC028_SRV_WAI_006_OK">
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.440" endtime="20210506 14:55:53.440"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.440" endtime="20210506 14:55:53.441"/>
</kw>
<kw name="Retrieve the subscription information">
<arg>${SUB_FILTER}</arg>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.441" endtime="20210506 14:55:53.442"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.442" endtime="20210506 14:55:53.442"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Content-Type":"application/json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.443" endtime="20210506 14:55:53.443"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Authorization":"${TOKEN}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.443" endtime="20210506 14:55:53.443"/>
</kw>
<kw name="GET" library="REST">
<arg>${apiRoot}/${apiName}/${apiVersion}/subscriptions?subscription_type=${subscription_type}</arg>
<tag>http</tag>
<doc>*Sends a GET request to the endpoint.*</doc>
<status status="PASS" starttime="20210506 14:55:53.443" endtime="20210506 14:55:53.453"/>
</kw>
<kw name="Output" library="REST">
<var>${output}</var>
<arg>response</arg>
<tag>I/O</tag>
<doc>*Outputs JSON to terminal or a file.*</doc>
<msg timestamp="20210506 14:55:53.453" level="INFO">
{
    "seconds": 0.005634999999999999,
    "status": 200,
    "body": {
        "_links": {
            "self": {
                "href": "/wai/v1/subscriptions/1"
            }
        },
        "staDataRateSubscription": [],
        "assocStaSubscription": [
            {
                "subscriptionType": "AssocStaSubscription",
                "callbackReference": "http://callback/uri",
                "apId": {
                    "macId": "macId01"
                },
                "_links": {
                    "self": {
                        "href": "/wai/v1/subscriptions/1"
                    }
                }
            }
        ]
    },
    "headers": {
        "Content-Type": "application/json; charset=utf-8",
        "Content-Length": "361",
        "Date": "Thu, 06 May 2021 12:55:53 GMT",
        "Connection": "keep-alive",
        "Keep-Alive": "timeout=5"
    }
}</msg>
<msg timestamp="20210506 14:55:53.454" level="INFO">${output} = {'seconds': 0.005634999999999999, 'status': 200, 'body': {'_links': {'self': {'href': '/wai/v1/subscriptions/1'}}, 'staDataRateSubscription': [], 'assocStaSubscription': [{'subscriptionType': 'AssocSt...</msg>
<status status="PASS" starttime="20210506 14:55:53.453" endtime="20210506 14:55:53.454"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${response}</arg>
<arg>${output}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20210506 14:55:53.455" level="INFO">${response} = {'seconds': 0.005634999999999999, 'status': 200, 'body': {'_links': {'self': {'href': '/wai/v1/subscriptions/1'}}, 'staDataRateSubscription': [], 'assocStaSubscription': [{'subscriptionType': 'AssocSt...</msg>
<status status="PASS" starttime="20210506 14:55:53.454" endtime="20210506 14:55:53.455"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.441" endtime="20210506 14:55:53.455"/>
</kw>
<kw name="Check HTTP Response Status Code Is" library="GenericKeywords">
<arg>200</arg>
<kw name="Convert To Integer" library="BuiltIn">
<var>${status}</var>
<arg>${expected_status}</arg>
<doc>Converts the given item to an integer number.</doc>
<msg timestamp="20210506 14:55:53.456" level="INFO">${status} = 200</msg>
<status status="PASS" starttime="20210506 14:55:53.455" endtime="20210506 14:55:53.456"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${response['status']}</arg>
<arg>${status}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20210506 14:55:53.456" endtime="20210506 14:55:53.457"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Status code validated</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.458" level="INFO">Status code validated</msg>
<status status="PASS" starttime="20210506 14:55:53.457" endtime="20210506 14:55:53.458"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.455" endtime="20210506 14:55:53.458"/>
</kw>
<kw name="Check HTTP Response Body Json Schema Is" library="GenericKeywords">
<arg>SubscriptionLinkList</arg>
<kw name="Should Contain" library="BuiltIn">
<arg>${response['headers']['Content-Type']}</arg>
<arg>application/json</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210506 14:55:53.458" endtime="20210506 14:55:53.459"/>
</kw>
<kw name="Catenate" library="BuiltIn">
<var>${schema}</var>
<arg>SEPARATOR=</arg>
<arg>${input}</arg>
<arg>.schema.json</arg>
<doc>Catenates the given items together and returns the resulted string.</doc>
<msg timestamp="20210506 14:55:53.459" level="INFO">${schema} = SubscriptionLinkList.schema.json</msg>
<status status="PASS" starttime="20210506 14:55:53.459" endtime="20210506 14:55:53.459"/>
</kw>
<kw name="Validate Json" library="JSONSchemaLibrary">
<arg>${schema}</arg>
<arg>${response['body']}</arg>
<doc>Validates the sample JSON against the given schema.</doc>
<status status="PASS" starttime="20210506 14:55:53.459" endtime="20210506 14:55:53.462"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Json Schema Validation OK</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.462" level="INFO">Json Schema Validation OK</msg>
<status status="PASS" starttime="20210506 14:55:53.462" endtime="20210506 14:55:53.462"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.458" endtime="20210506 14:55:53.462"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${response['body']['_links']['self']['href']}</arg>
<arg>${HREF}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20210506 14:55:53.463" endtime="20210506 14:55:53.463"/>
</kw>
<doc>Check that the IUT responds with the requested list of subscription
Reference "ETSI GS MEC 028 2.1.1, clause 7.5.3.1
https://forge.etsi.org/rep/mec/gs028-wai-api/blob/v2.1.1/WlanInformationApi.yaml#/schemas/AssocStaSubscription</doc>
<status status="PASS" starttime="20210506 14:55:53.438" endtime="20210506 14:55:53.463"/>
</test>
<test id="s1-t6" name="TP_MEC_MEC028_SRV_WAI_006_BR">
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.464" endtime="20210506 14:55:53.465"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.465" endtime="20210506 14:55:53.465"/>
</kw>
<kw name="Retrieve the subscription information">
<arg>${INVALID_SUB_FILTER}</arg>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.466" endtime="20210506 14:55:53.466"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.466" endtime="20210506 14:55:53.466"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Content-Type":"application/json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.467" endtime="20210506 14:55:53.467"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Authorization":"${TOKEN}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.467" endtime="20210506 14:55:53.467"/>
</kw>
<kw name="GET" library="REST">
<arg>${apiRoot}/${apiName}/${apiVersion}/subscriptions?subscription_type=${subscription_type}</arg>
<tag>http</tag>
<doc>*Sends a GET request to the endpoint.*</doc>
<status status="PASS" starttime="20210506 14:55:53.467" endtime="20210506 14:55:53.476"/>
</kw>
<kw name="Output" library="REST">
<var>${output}</var>
<arg>response</arg>
<tag>I/O</tag>
<doc>*Outputs JSON to terminal or a file.*</doc>
<msg timestamp="20210506 14:55:53.476" level="INFO">
{
    "seconds": 0.005876999999999999,
    "status": 400,
    "body": "",
    "headers": {
        "Content-Type": "application/problem+json; charset=utf-8",
        "Content-Length": "0",
        "Date": "Thu, 06 May 2021 12:55:53 GMT",
        "Connection": "keep-alive",
        "Keep-Alive": "timeout=5"
    }
}</msg>
<msg timestamp="20210506 14:55:53.477" level="INFO">${output} = {'seconds': 0.005876999999999999, 'status': 400, 'body': '', 'headers': {'Content-Type': 'application/problem+json; charset=utf-8', 'Content-Length': '0', 'Date': 'Thu, 06 May 2021 12:55:53 GMT', 'Con...</msg>
<status status="PASS" starttime="20210506 14:55:53.476" endtime="20210506 14:55:53.477"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${response}</arg>
<arg>${output}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20210506 14:55:53.477" level="INFO">${response} = {'seconds': 0.005876999999999999, 'status': 400, 'body': '', 'headers': {'Content-Type': 'application/problem+json; charset=utf-8', 'Content-Length': '0', 'Date': 'Thu, 06 May 2021 12:55:53 GMT', 'Con...</msg>
<status status="PASS" starttime="20210506 14:55:53.477" endtime="20210506 14:55:53.477"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.465" endtime="20210506 14:55:53.478"/>
</kw>
<kw name="Check HTTP Response Status Code Is" library="GenericKeywords">
<arg>400</arg>
<kw name="Convert To Integer" library="BuiltIn">
<var>${status}</var>
<arg>${expected_status}</arg>
<doc>Converts the given item to an integer number.</doc>
<msg timestamp="20210506 14:55:53.479" level="INFO">${status} = 400</msg>
<status status="PASS" starttime="20210506 14:55:53.478" endtime="20210506 14:55:53.479"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${response['status']}</arg>
<arg>${status}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20210506 14:55:53.479" endtime="20210506 14:55:53.480"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Status code validated</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.480" level="INFO">Status code validated</msg>
<status status="PASS" starttime="20210506 14:55:53.480" endtime="20210506 14:55:53.480"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.478" endtime="20210506 14:55:53.480"/>
</kw>
<doc>Check that the IUT responds with the requested list of subscription
Reference "ETSI GS MEC 028 2.1.1, clause 7.5.3.1
https://forge.etsi.org/rep/mec/gs028-wai-api/blob/v2.1.1/WlanInformationApi.yaml#/schemas/AssocStaSubscription</doc>
<status status="PASS" starttime="20210506 14:55:53.464" endtime="20210506 14:55:53.480"/>
</test>
<test id="s1-t7" name="TP_MEC_MEC028_SRV_WAI_006_NF">
<kw name="Retrieve the subscription information using wrong endpoint">
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_MEC_SYSTEM} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.482" endtime="20210506 14:55:53.482"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${PIC_SERVICES} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20210506 14:55:53.483" endtime="20210506 14:55:53.483"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Content-Type":"application/json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.483" endtime="20210506 14:55:53.483"/>
</kw>
<kw name="Set Headers" library="REST">
<arg>{"Authorization":"${TOKEN}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" starttime="20210506 14:55:53.483" endtime="20210506 14:55:53.484"/>
</kw>
<kw name="GET" library="REST">
<arg>${apiRoot}/${apiName}/${apiVersion}/subscriptions_INVALID_URI</arg>
<tag>http</tag>
<doc>*Sends a GET request to the endpoint.*</doc>
<msg timestamp="20210506 14:55:53.493" level="WARN">Response body content is not JSON. Content-Type is: text/html; charset=utf-8</msg>
<status status="PASS" starttime="20210506 14:55:53.484" endtime="20210506 14:55:53.494"/>
</kw>
<kw name="Output" library="REST">
<var>${output}</var>
<arg>response</arg>
<tag>I/O</tag>
<doc>*Outputs JSON to terminal or a file.*</doc>
<msg timestamp="20210506 14:55:53.494" level="INFO">
{
    "seconds": 0.0049169999999999995,
    "status": 404,
    "body": "&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Cannot GET /wai/v1/subscriptions_INVALID_URI&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n",
    "headers": {
        "Content-Security-Policy": "default-src 'none'",
        "X-Content-Type-Options": "nosniff",
        "Content-Type": "text/html; charset=utf-8",
        "Content-Length": "171",
        "Date": "Thu, 06 May 2021 12:55:53 GMT",
        "Connection": "keep-alive",
        "Keep-Alive": "timeout=5"
    }
}</msg>
<msg timestamp="20210506 14:55:53.495" level="INFO">${output} = {'seconds': 0.0049169999999999995, 'status': 404, 'body': '&lt;!DOCTYPE html&gt;\n&lt;html lang="en"&gt;\n&lt;head&gt;\n&lt;meta charset="utf-8"&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Cannot GET /wai/v1/subscriptio...</msg>
<status status="PASS" starttime="20210506 14:55:53.494" endtime="20210506 14:55:53.495"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${response}</arg>
<arg>${output}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20210506 14:55:53.496" level="INFO">${response} = {'seconds': 0.0049169999999999995, 'status': 404, 'body': '&lt;!DOCTYPE html&gt;\n&lt;html lang="en"&gt;\n&lt;head&gt;\n&lt;meta charset="utf-8"&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Cannot GET /wai/v1/subscriptio...</msg>
<status status="PASS" starttime="20210506 14:55:53.495" endtime="20210506 14:55:53.496"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.482" endtime="20210506 14:55:53.496"/>
</kw>
<kw name="Check HTTP Response Status Code Is" library="GenericKeywords">
<arg>404</arg>
<kw name="Convert To Integer" library="BuiltIn">
<var>${status}</var>
<arg>${expected_status}</arg>
<doc>Converts the given item to an integer number.</doc>
<msg timestamp="20210506 14:55:53.497" level="INFO">${status} = 404</msg>
<status status="PASS" starttime="20210506 14:55:53.497" endtime="20210506 14:55:53.497"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${response['status']}</arg>
<arg>${status}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20210506 14:55:53.497" endtime="20210506 14:55:53.498"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Status code validated</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210506 14:55:53.498" level="INFO">Status code validated</msg>
<status status="PASS" starttime="20210506 14:55:53.498" endtime="20210506 14:55:53.498"/>
</kw>
<status status="PASS" starttime="20210506 14:55:53.496" endtime="20210506 14:55:53.498"/>
</kw>
<doc>Check that the IUT responds with an error when a request with not existing parameters is sent
Reference "ETSI GS MEC 028 2.1.1, clause 7.5.3.1
https://forge.etsi.org/rep/mec/gs028-wai-api/blob/v2.1.1/WlanInformationApi.yaml#/schemas/AssocStaSubscription</doc>
<status status="PASS" starttime="20210506 14:55:53.481" endtime="20210506 14:55:53.498"/>
</test>
<status status="PASS" starttime="20210506 14:55:52.890" endtime="20210506 14:55:53.499"/>
</suite>
<statistics>
<total>
<stat pass="7" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="7" fail="0" skip="0" id="s1" name="WaiSubscription">WaiSubscription</stat>
</suite>
</statistics>
<errors>
<msg timestamp="20210506 14:55:53.405" level="WARN">Response body content is not JSON. Content-Type is: text/html; charset=utf-8</msg>
<msg timestamp="20210506 14:55:53.493" level="WARN">Response body content is not JSON. Content-Type is: text/html; charset=utf-8</msg>
</errors>
</robot>
